{
  "$id": "https://hetalang.github.io/",
   "definitions": {

     "ID": {
       "description": "First character is letter, others are letter, digit or lodash.",
       "type": "string",
       "minLength": 1,
       "pattern": "^[_a-zA-Z][_a-zA-Z0-9]*$",
       "example": "x_12_"
     },

     "UnitsExpr": {
       "description": "Unit expression, see qsp-units project.",
       "type": "string",
       "pattern": "^[_a-zA-Z0-9./*^ ()+-]+$",
       "example": "1/h * ms"
     },

     "ProcessExpr": {
       "type": "string",
       "pattern": "^((\\d*\\s*\\*?\\s*\\w+)\\s*\\+?\\s*)*([=-]|[=-]>|<[=-]>|<>|>)((\\d*\\s*\\*?\\s*\\w+)\\s*\\+?\\s*)*$",
       "example": "2*S -> 3P1+P2",
       "errorMessage": {
         "pattern": "should be in format: \"2*S -> 3P1+P2\""
       }
     },

    "ExprString": {
      "description": "Expression as string. Currently pattern does not analyze expressions.",
      "type": "string",
      "minLength": 1,
      "pattern": "[a-zA-Z0-9. -+/*^()]*$"
    },

    "AssignmentDict": {
      "description": "Stores initializations as key/value dictionary. Key is switcher when to use. Key is one of Switcher id.",
      "type": "object",
      "propertyNames": { "$ref": "#/definitions/ID" },
      "additionalProperties": {
        "oneOf": [
          { "$ref": "#/definitions/ExprString" },
          { "type": "number"},
          { "type": "null" }
        ]
      },
      "example": {
        "start_": { "expr": 1.2 },
        "ode_": { "expr": "x * y" },
        "evt1": { "expr": "z + 1.2" }
      }
    },

    "Statistics": {
      "description": "Describes different outputs for monte-carlo problem.",
      "type": "object",
      "required": ["kind"],
      "properties": {
        "kind": { "type": "string", "enum": ["quantile", "mean", "correlation", "raw"] }
      }
    },

    "_Scoped": {
      "description": "Abstract class for Records and other classes with space.",
      "properties": {
        "space": { "$ref": "#/definitions/ID" }
      }
    },

    "StopSwitcher": {
      "type": "object",
      "properties": {
        "trigger": {"oneOf": [
            { "$ref": "#/definitions/ExprString" },
            { "enum": [true, false, 1, 0] },
            { "type": "null" }
          ]
        }
      }
    },

    "TimeScale": {
      "type": "object",
      "description": "t and other time scales",
      "properties": {
        "slope": {"oneOf": [
          { "type": "number", "exclusiveMinimum": 0 },
          { "type": "null" }
        ]},
        "intercept": {"oneOf": [
          { "type": "number" },
          { "type": "null" }
        ]},
        "output": {"oneOf": [
          { "enum": [true, false, 1, 0] },
          { "type": "null" }
        ]}
      }
     },

    "UnitComponent": {
      "type": "object",
      "required": ["kind"],
      "properties": {
        "kind": { "$ref": "#/definitions/ID" },
        "multiplier": { "type": "number", "exclusiveMinimum": 0 },
        "exponent": { "type": "number" }
      },
      "example": { "kind": "mole", "multiplier": 1e-6, "exponent": 1 }
    }
  }
}
